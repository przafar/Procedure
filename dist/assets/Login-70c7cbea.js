import{d as b,a0 as h,Z as x,a7 as I,f as a,a as k,g as w,w as n,h as t,R as u,b as i,i as C}from"./index-a004be18.js";import{u as B}from"./useForm-1d64cadd.js";import{u as L}from"./useToast-f87d68b5.js";const F=i("h1",{class:"font-semibold text-4xl mb-4"},"Log in",-1),N={class:"flex justify-center mt-4"},U=b({__name:"Login",setup(S){const o=h({email:"",password:"",keepLoggedIn:!1}),d=x(),{validate:p}=B("form"),{init:l}=L(),f=I(),r=async()=>{if(p())try{await f.login(o),l({message:"You've successfully logged in",color:"success"}),d.push({name:"dashboard"})}catch{l({message:"Login failed. Please check your credentials.",color:"danger"})}};return(_,s)=>{const c=a("VaInput"),V=a("VaIcon"),v=a("VaValue"),g=a("VaButton"),y=a("VaForm");return k(),w(y,{ref:"form",onSubmit:u(r,["prevent"])},{default:n(()=>[F,t(c,{modelValue:o.email,"onUpdate:modelValue":s[0]||(s[0]=e=>o.email=e),class:"mb-4",label:"Email",type:"email"},null,8,["modelValue"]),t(v,{"default-value":!1},{default:n(e=>[t(c,{modelValue:o.password,"onUpdate:modelValue":s[1]||(s[1]=m=>o.password=m),type:e.value?"text":"password",class:"mb-4",label:"Password",onClickAppendInner:u(m=>e.value=!e.value,["stop"])},{appendInner:n(()=>[t(V,{name:e.value?"mso-visibility_off":"mso-visibility",class:"cursor-pointer",color:"secondary"},null,8,["name"])]),_:2},1032,["modelValue","type","onClickAppendInner"])]),_:1}),i("div",N,[t(g,{class:"w-full",onClick:r},{default:n(()=>[C(" Login")]),_:1})])]),_:1},8,["onSubmit"])}}});export{U as default};
//# sourceMappingURL=Login-70c7cbea.js.map
